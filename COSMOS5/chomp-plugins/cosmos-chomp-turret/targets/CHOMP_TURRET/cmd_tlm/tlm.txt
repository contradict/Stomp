#
#  CRPKT - Control Radio (Packet ID 4)
#

TELEMETRY CHOMP_TURRET CRPKT LITTLE_ENDIAN "Control Radio"
    APPEND_ID_ITEM    ID     8    INT      4    "Identifier"
    APPEND_ARRAY_ITEM CRAX  32    FLOAT    256  "Control Radio Axis"
    APPEND_ARRAY_ITEM CRTG   8    INT      64   "Control Radio Toggle"
        STATE TOGGLE_OFF    -1
        STATE TOGGLE_CENTER 0
        STATE TOGGLE_ON     1
    APPEND_ITEM       CRFS   8    INT           "Control Radio Failsafe"
        STATE FALSE   0 
        STATE TRUE    1 
    APPEND_ITEM       CRND   8    INT           "Control Radio No Data"
        STATE FALSE   0 
        STATE TRUE    1 

#
#  TGPKT - Turret General (Packet ID 5)
#

TELEMETRY CHOMP_TURRET TGPKT LITTLE_ENDIAN "Turret General"
    APPEND_ID_ITEM    ID     8    INT    5  "Identifier"
    APPEND_ITEM       TGTS   8    INT       "Turret State"
        STATE TURRET_INIT    0
        STATE TURRET_SAFE    1
        STATE TURRET_ACTIVE  2
    APPEND_ITEM       TGRS   8    INT       "Turret Rotation State"
        STATE ROTATION_INIT       0
        STATE ROTATION_SAFE       1
        STATE ROTATION_MANUAL     2
        STATE ROTATION_AUTO       3
        STATE ROTATION_OVERRIDE   4

#
#  SENSE - Turret Sensors (Packet ID 6)
#

TELEMETRY CHOMP_TURRET SENSE LITTLE_ENDIAN "Turret Sensors"
    APPEND_ID_ITEM    ID     8    INT    6  "Identifier"
    APPEND_ITEM       SENSE_HA  32    FLOAT     "Sensor Hammer Angle"
        UNITS "Degrees" "deg"
        POLY_READ_CONVERSION 0.0 57.296
        FORMAT_STRING "%.6f"
    APPEND_ITEM       SENSE_HV  32    FLOAT     "Sensor Hammer Velocity"
        UNITS "Degrees Per Sec" "deg/s"
        POLY_READ_CONVERSION 0.0 57.296
        FORMAT_STRING "%.6f"
    APPEND_ITEM       SENSE_HE  32    FLOAT     "Sensor Hammer Energy"
        UNITS "Joule" "J"
    APPEND_ITEM       SENSE_BE  32    FLOAT     "Available Break Energy"
        UNITS "Joule" "J"
    APPEND_ITEM       SENSE_TA  32    FLOAT     "Sensor Turret Angle"
        UNITS "Degrees" "deg"
        POLY_READ_CONVERSION 0.0 57.296
        FORMAT_STRING "%.6f"
    APPEND_ITEM       SENSE_TV  32    FLOAT     "Sensor Turret Velocity"
        UNITS "Degrees Per Sec" "deg/s"
        POLY_READ_CONVERSION 0.0 57.296
        FORMAT_STRING "%.6f"
    APPEND_ITEM       SENSE_TP  32    FLOAT     "Sensor Throw Pressure"
        UNITS "Pounds per Square Inch" "PSI"
        POLY_READ_CONVERSION 0.0 0.000145038
        FORMAT_STRING "%.6f"
    APPEND_ITEM       SENSE_RP  32    FLOAT     "Sensor Retract Pressure"
        UNITS "Pounds per Square Inch" "PSI"
        POLY_READ_CONVERSION 0.0 0.000145038
        FORMAT_STRING "%.6f"

#
#  SWING - Turret Swing (Packet ID 8)
#

TELEMETRY CHOMP_TURRET SWING LITTLE_ENDIAN "Turret Swing"
    APPEND_ID_ITEM    ID         8    INT    7  "Identifier"
    APPEND_ITEM       SWING_SDT 32    INT    	"swing_state_dt"
    APPEND_ITEM       SWING_TV  32    FLOAT   	"trigger_value"
    APPEND_ITEM       SWING_LM  32    FLOAT   	"trigger_limit"
    APPEND_ITEM       SWING_TR   8    INT    	"trigger_reason"
	    STATE timeout 			0
        STATE hammer_angel_greater 	1
        STATE hammer_angel_less 	2
        STATE hammer_energy_greater 	3
        STATE hammer_velocity_less 	4
        STATE retract_pressure_greater 	5
    APPEND_ITEM       SWING_SF   8    INT    	"swing_state_from"
        STATE SWING_INIT       		0
        STATE SWING_idle 		1
        STATE SWING_throw_setup		2
        STATE SWING_throw_pressurize 	3
        STATE SWING_throw_expand 	4
        STATE SWING_retract_setup 	5
        STATE SWING_retract_pressurize 	6
        STATE SWING_retract_expand 	7
        STATE SWING_retract_brake 	8
        STATE SWING_retract_settle 	9
        STATE SWING_retract_complete   10
    APPEND_ITEM       SWING_ST   8    INT    	"swing_state_to"
        STATE SWING_INIT       		0
        STATE SWING_idle 		1
        STATE SWING_throw_setup		2
        STATE SWING_throw_pressurize 	3
        STATE SWING_throw_expand 	4
        STATE SWING_retract_setup 	5
        STATE SWING_retract_pressurize 	6
        STATE SWING_retract_expand 	7
        STATE SWING_retract_brake 	8
        STATE SWING_retract_settle 	9
        STATE SWING_retract_complete   10


